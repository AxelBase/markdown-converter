import{l as N,h,t as R,O as m,P as x,Q as D,R as F,o as L,s as E,k as O,S as y,T as Y,U as q,V as C,W as P,X as U,p as Z,Y as B,Z as H,b as M,_ as Q,$ as V}from"./BVmn-QkX.js";function X(s,f,c=!1){h&&R();var i=s,e=null,a=null,r=q,S=c?m:0,u=!1;const g=(l,t=!0)=>{u=!0,v(t,l)};var n=null;function o(){n!==null&&(n.lastChild.remove(),i.before(n),n=null);var l=r?e:a,t=r?a:e;l&&P(l),t&&U(t,()=>{r?a=null:e=null})}const v=(l,t)=>{if(r===(r=l))return;let b=!1;if(h){const I=x(i)===D;!!r===I&&(i=F(),L(i),E(!1),b=!0)}var p=C(),d=i;if(p&&(n=document.createDocumentFragment(),n.append(d=O())),r?e??=t&&y(()=>t(d)):a??=t&&y(()=>t(d)),p){var _=Y,T=r?e:a,k=r?a:e;T&&_.skipped_effects.delete(T),k&&_.skipped_effects.add(k),_.add_callback(o)}else o();b&&E(!0)};N(()=>{u=!1,f(g),u||v(null,null)},S),h&&(i=Z)}function A(s,f){return s===f||s?.[V]===f}function $(s={},f,c,i){return B(()=>{var e,a;return H(()=>{e=a,a=[],M(()=>{s!==c(...a)&&(f(s,...a),e&&A(c(...e),s)&&f(null,...e))})}),()=>{Q(()=>{a&&A(c(...a),s)&&f(null,...a)})}}),s}export{$ as b,X as i};
